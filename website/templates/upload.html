{%extends "base.html"%} 
{% block title%}Home{% endblock %}
{% block content %}
<h1>Upload Receipts</h1>

<form method="POST">
        <input type="file" accept="image/*" name="pic" id="file">
        <button onclick="upload()" name="submit">Upload File</button>
</form>

<script>
const input = document.getElementById('file');

// This will upload the file after having read it
const upload = (file) => {
  fetch('api.com', { // Your POST endpoint
    method: 'POST',
    headers: {
     // "Content-Type": "You will perhaps need to define a content-type here"
    },
    body: file // This is your file object
  }).then(
    response => response.json() // if the response is a JSON object
  ).then(
    success => console.log(success) // Handle the success response object
  ).catch(
    error => console.log(error) // Handle the error response object
  );
};

// Event handler executed when a file is selected
const onSelectFile = () => upload(input.files[0]);

// Add a listener on your input
// It will be triggered when a file will be selected
input.addEventListener('change', onSelectFile, false);

</script>
{% endblock %}